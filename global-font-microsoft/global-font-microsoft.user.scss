/*
 *                     重要提示
 *
 * 本样式自 2.2.3 版本开始将默认等宽字体由 Consolas 更换为微软的开源字体 Cascadia Code，
 * 无论之前是否下载过字体包，都请重新下载安装，以免字体无法正常显示。
 * 下载地址：https://n2o.io/p/user.css/
 *
 */

/* ==UserStyle==
@name:en Global Font: Microsoft Family
@name 全局微软雅黑
@namespace franciszhao
@version 2.2.4-alpha.1
@description:en A UserCSS style to replace all fonts on web pages with Microsoft’s font family.
@description 一款使用微软的系列字体替换网页原有字体的用户样式表。
@author Francis Zhao <francis@n2o.io>
@homepageURL https://n2o.io/go?page=user.css
@supportURL https://n2o.io/go?page=user.css
@license MIT
@preprocessor default
==/UserStyle== */

$font-system: -apple-system, BlinkMacSystemFont, system-ui;

$font-sans: "Segoe UI";
$font-sans-sc: "Microsoft YaHei";
$font-sans-sc-fallback: "HanHei SC", "方正兰亭黑_GB18030", "方正兰亭黑_GBK", $font-system;
$font-sans-tc: "Microsoft JhengHei";
$font-sans-tc-fallback: "HanHei TC", $font-system;
$font-sans-hc: "Microsoft JhengHei";
$font-sans-hc-fallback: $font-sans-tc-fallback;
$font-sans-j: "Yu Gothic";
$font-sans-j-fallback: "Hiragino Kaku Gothic Pro", $font-system;
$font-sans-k: "Malgun Gothic";
$font-sans-k-fallback: $font-system;

$font-serif: "Georgia";
$font-serif-sc: "方正新书宋_GBK";
$font-serif-sc-fallback: $font-serif;
$font-serif-tc: "PMingLiU-ExtB";
$font-serif-tc-fallback: $font-serif;
$font-serif-hc: "PMingLiU-ExtB";
$font-serif-hc-fallback: $font-serif-tc, $font-serif-tc-fallback;
$font-serif-j: "";
$font-serif-j-fallback: $font-serif;
$font-serif-k: "";
$font-serif-k-fallback: $font-serif;

$font-mono: "Cascadia Code";
$font-mono-fallback: "Consolas";
$font-mono-sc: "Cascadia Code";
$font-mono-sc-fallback: $font-mono-fallback, $font-sans-sc, $font-sans-sc-fallback;
$font-mono-tc: "Cascadia Code";
$font-mono-tc-fallback: $font-mono-fallback, $font-sans-tc, $font-sans-tc-fallback;
$font-mono-hc: "Cascadia Code";
$font-mono-hc-fallback: $font-mono-tc, $font-mono-fallback, $font-sans-hc, $font-sans-hc-fallback;
$font-mono-j: "Cascadia Code";
$font-mono-j-fallback: $font-mono-fallback, $font-sans-j, $font-sans-j-fallback;
$font-mono-k: "Cascadia Code";
$font-mono-k-fallback: $font-mono-fallback, $font-sans-k, $font-sans-k-fallback;

$font-emoji: "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji";

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;

  &:lang(de) {
    body {
      font-family: $font-sans, sans-serif, $font-emoji;
      quotes: "„" "“";
    }

    code, kbd, pre, samp {
      font-family: $font-mono, $font-mono-fallback, monospace, $font-emoji;
    }
  }

  &:lang(en) {
    body {
      font-family: $font-sans, sans-serif, $font-emoji;
    }

    code, kbd, pre, samp {
      font-family: $font-mono, $font-mono-fallback, monospace, $font-emoji;
    }
  }

  &:lang(es),
  &:lang(no) {
    body {
      font-family: $font-sans, sans-serif, $font-emoji;
      quotes: "«" "»";
    }

    code, kbd, pre, samp {
      font-family: $font-mono, $font-mono-fallback, monospace, $font-emoji;
    }
  }

  &:lang(fr) {
    body {
      font-family: $font-sans, sans-serif, $font-emoji;
      quotes: "« " " »";
    }

    code, kbd, pre, samp {
      font-family: $font-mono, $font-mono-fallback, monospace, $font-emoji;
    }
  }

  &:lang(zh-CN),
  &:lang(zh-SG) {
    body {
      font-family: $font-sans-sc, $font-sans-sc-fallback, sans-serif, $font-emoji;
    }

    code, kbd, pre, samp {
      font-family: $font-mono-sc, $font-mono-sc-fallback, monospace, $font-emoji;
    }
  }

  &:lang(zh-TW) {
    body {
      font-family: $font-sans-tc, $font-sans-tc-fallback, sans-serif, $font-emoji;
      quotes: "「" "」";
    }

    code, kbd, pre, samp {
      font-family: $font-mono-tc, $font-mono-tc-fallback, monospace, $font-emoji;
    }
  }

  &:lang(zh-HK),
  &:lang(zh-MO) {
    body {
      font-family: $font-sans-hc, $font-sans-hc-fallback, sans-serif, $font-emoji;
      quotes: "「" "」";
    }

    code, kbd, pre, samp {
      font-family: $font-mono-hc, $font-mono-hc-fallback, monospace, $font-emoji;
    }
  }

  &:lang(ja) {
    body {
      font-family: $font-sans-j, $font-sans-j-fallback, sans-serif, $font-emoji;
      quotes: "「" "」";
    }

    code, kbd, pre, samp {
      font-family: $font-mono-j, $font-mono-j-fallback, monospace, $font-emoji;
    }
  }

  &:lang(ko) {
    body {
      font-family: $font-sans-k, $font-sans-k-fallback, sans-serif, $font-emoji;
    }

    code, kbd, pre, samp {
      font-family: $font-mono-k, $font-mono-k-fallback, monospace, $font-emoji;
    }
  }
}

body {
  font-family: $font-sans, $font-sans-sc, $font-sans-sc-fallback, sans-serif, $font-emoji;
  quotes: "“" "”";
}

button,
input,
keygen,
select,
textarea {
  font-family: inherit;

  &:disabled {
    cursor: not-allowed;
  }
}

code, kbd, pre, samp {
  font-family: $font-mono-sc, $font-mono-sc-fallback, monospace, $font-emoji;
}

/* 字体替换：西里尔字母 */

@each $font-serif-replace in ("Georgia", "Times", "Time New Roman") {
  @font-face {
    font-family: $font-serif-replace;
    src: local($font-serif);
  }
}

@each $font-sans-replace in ("Arial", "Helvetica", "Helvetica Neue", "Segoe UI", "Tahoma", "Trebuchet", "Trebuchet MS", "Verdana") {
  @font-face {
    font-family: $font-sans-replace;
    src: local($font-sans);
  }
}

@each $font-mono-replace in ("Consolas", "Courier", "Courier New", "Lucida Console" ) {
  @font-face {
    font-family: $font-mono-replace;
    src: local($font-mono);
  }
}

/* 字体替换：中文 */

@each $font-serif-sc-replace in ("SimSun", "SimSun-ExtB", "宋体", "NSimSun", "新宋体") {
  @font-face {
    font-family: $font-serif-sc-replace;
    src: local($font-sans-sc);
  }
}

@each $font-sans-sc-replace in ("SimHei", "黑体", "Microsoft YaHei UI", "Microsoft YaHei", "微软雅黑", "STHeiti SC", "PingFang SC", "苹方-简") {
  @font-face {
    font-family: $font-sans-sc-replace;
    src: local($font-sans-sc);
  }
}

@each $font-serif-tc-replace in ("MingLiU", "MingLiU-ExtB", "PMingLiU", "PMingLiU-ExtB") {
  @font-face {
    font-family: $font-serif-tc-replace;
    src: local($font-sans-tc);
  }
}

@each $font-sans-tc-replace in ("Microsoft JhengHei UI", "Microsoft JhengHei", "微軟正黑體", "STHeiti TC", "PingFang TC", "蘋方-繁") {
  @font-face {
    font-family: $font-sans-tc-replace;
    src: local($font-sans-tc);
  }
}

@each $font-serif-hc-replace in ("MingLiU_HKSCS", "MingLiU_HKSCS-ExtB") {
  @font-face {
    font-family: $font-serif-hc-replace;
    src: local($font-sans-hc);
  }
}

@each $font-sans-hc-replace in ("PingFang HK", "蘋方-港") {
  @font-face {
    font-family: $font-sans-hc-replace;
    src: local($font-sans-hc);
  }
}

/* 字体替换：日文 */

@each $font-sans-j-replace in ("MS Gothic", "MS PGothic", "MS UI Gothic", "Yu Gothic", "Yu Gothic UI") {
  @font-face {
    font-family: $font-sans-j-replace;
    src: local($font-sans-j);
  }
}

/* 字体替换：朝鲜文 */

@each $font-sans-k-replace in ("Malgun Gothic") {
  @font-face {
    font-family: $font-sans-k-replace;
    src: local($font-sans-k);
  }
}

/* 特定网站修正 */

@-moz-document domain("baidu.com") {
  * {
    font-family: $font-sans-sc, $font-sans-sc-fallback, sans-serif, $font-emoji;
  }
}

@-moz-document regexp("https://www.baidu.com/#?"), url-prefix("https://www.baidu.com/?tn=") {
  .s_ipt {
    font-family: $font-sans-sc, $font-sans-sc-fallback, sans-serif, $font-emoji;
  }

  .s-treasure,
  .mnav[href^="http"]:not([href*="baidu.com"]),
  .qrcode-layer {
    display: none !important;
  }
}

@-moz-document domain("greasyfork.org") {
  #script_version_code, .ace_editor {
    font-family: $font-mono-sc, $font-mono-sc-fallback, monospace, $font-emoji !important;
  }
}

@-moz-document domain("github.com") {
  .text-mono {
    font-family: $font-mono-sc, $font-mono-sc-fallback, monospace, $font-emoji !important;
  }

  .blob-num, .blob-code-inner {
    font-family: $font-mono-sc, $font-mono-sc-fallback, monospace, $font-emoji;
  }
}

@-moz-document domain("ithome.com") {
  .post_comment {
    font-family: $font-sans-sc, $font-sans-sc-fallback, sans-serif, $font-emoji;
  }
}

@-moz-document domain("jiemian.com") {
  .article-content {
    font-family: $font-sans-sc, $font-sans-sc-fallback, sans-serif, $font-emoji !important;
  }

  #ad_header_top, .cnzz-ads, .jm-app {
    display: none !important;
  }
}

@-moz-document domain("so.com") {
  * {
    font-family: $font-sans-sc, $font-sans-sc-fallback, sans-serif, $font-emoji;
  }

  #mohe-know_side_nlp-imagelist,
  #mohe-hot_hqr {
    display: none !important;
  }
}

@-moz-document domain("sogou.com") {
  * {
    font-family: $font-sans-sc, $font-sans-sc-fallback, sans-serif, $font-emoji;
  }

  .nav-new,
  .bizr_rb,
  [id^="rightgameout"] {
    display: none !important;
  }
}

@-moz-document domain("sspai.com") {
  h1, h2, h3, h4, h5, h6, .title, .content, p, a {
    font-family: $font-sans-sc, $font-sans-sc-fallback, sans-serif, $font-emoji !important;
  }
}

@-moz-document domain("userstyles.org") {
  .ad, #top_android_button, .android_button_button, .android_button_banner, .walking {
    display: none !important;
  }
}

/* 真的到底了 */
